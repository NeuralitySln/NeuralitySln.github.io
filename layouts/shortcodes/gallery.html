<!-- Gallery Shortcode with Lightbox2 -->
<!-- Based on Hugo/Lightbox2 gallery implementation -->

{{ if .Page.Resources }}
  <!-- Load Lightbox2 CSS and JS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>

  <div class="gallery-container">
    {{ with .Page.Resources.ByType "image" }}
      <div class="gallery-grid">
        {{ range . }}
          {{ $thumb := .Resize "300x225 q75 Box" }}
          <div class="gallery-item">
            <a href="{{ .Permalink }}" data-lightbox="gallery" data-title="{{ .Name | title }}">
              <img src="{{ $thumb.Permalink }}" alt="{{ .Name | title }}" class="gallery-thumb" loading="lazy" />
              <div class="gallery-overlay">
                <i class="fa fa-search-plus"></i>
              </div>
            </a>
          </div>
        {{ end }}
      </div>
    {{ end }}
  </div>

  <style>
    .gallery-container {
      margin: 3rem 0;
    }
    
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      padding: 1rem 0;
    }
    
    .gallery-item {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(10, 27, 61, 0.1);
      transition: all 0.3s ease;
      background: white;
    }
    
    .gallery-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(10, 27, 61, 0.2);
    }
    
    .gallery-thumb {
      width: 100%;
      height: 225px;
      object-fit: cover;
      transition: all 0.3s ease;
    }
    
    .gallery-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, rgba(10, 27, 61, 0.8), rgba(0, 224, 255, 0.6));
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: all 0.3s ease;
    }
    
    .gallery-item:hover .gallery-overlay {
      opacity: 1;
    }
    
    .gallery-item:hover .gallery-thumb {
      transform: scale(1.05);
    }
    
    .gallery-overlay i {
      color: white;
      font-size: 2rem;
    }
    
    @media (max-width: 768px) {
      .gallery-grid {
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1rem;
      }
      
      .gallery-thumb {
        height: 180px;
      }
    }
  </style>
{{ end }}
